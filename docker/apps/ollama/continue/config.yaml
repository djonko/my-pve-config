name: Local Fullstack Architect Assistant
version: 2.0.0
schema: v1

models:
  # ───── PRIMARY FULLSTACK CODING ─────
  - name: DeepSeek Coder V2 16B (Primary)
    provider: ollama
    model: deepseek-coder-v2:16b-lite-instruct-q5_K_M
    apiBase: http://192.168.20.31:11434
    roles: [chat, edit, apply]

  # ───── BACKEND / OOP SPECIALIST ─────
  - name: CodeLlama 13B (Backend)
    provider: ollama
    model: codellama:13b-instruct-q5_K_M
    apiBase: http://192.168.20.31:11434
    roles: [chat, edit, apply]

  # ───── DATABASE EXPERT ─────
  - name: SQLCoder 15B (Database)
    provider: ollama
    model: sqlcoder:15b-q5_K_M
    apiBase: http://192.168.20.31:11434
    roles: [chat, edit]

  # ───── FRONTEND / JS / TS ─────
  - name: Yi Coder 9B (Frontend)
    provider: ollama
    model: yi-coder:9b-chat-q5_K_M
    apiBase: http://192.168.20.31:11434
    roles: [chat, edit, apply]

  # ───── ARCHITECTURE & REASONING ─────
  - name: DeepSeek R1 8B (Reasoning)
    provider: ollama
    model: deepseek-r1:8b
    apiBase: http://192.168.20.31:11434
    roles: [chat]

  # ───── FAST AUTOCOMPLETE ─────
  - name: Qwen 2.5 Coder 7B (Autocomplete)
    provider: ollama
    model: qwen2.5-coder:7b-instruct-q4_K_M
    apiBase: http://192.168.20.31:11434
    roles: [autocomplete]
    completionOptions:
      fillInTheMiddle: true

  # ───── LIGHT CHAT / ENGLISH LEARNING ─────
  - name: Gemma 3 4B (Light Chat)
    provider: ollama
    model: gemma3:4b
    apiBase: http://192.168.20.31:11434
    roles: [chat]

  - name: Llama 3.2 3B (Ultra Fast)
    provider: ollama
    model: llama3.2:3b
    apiBase: http://192.168.20.31:11434
    roles: [chat]

  # ───── HEAVY REFACTOR / LARGE TASKS ─────
  - name: Qwen3 Coder 30B (Heavy Duty)
    provider: ollama
    model: hf.co/unsloth/Qwen3-Coder-30B-A3B-Instruct-GGUF:Q2_K_L
    apiBase: http://192.168.20.31:11434
    roles: [chat, edit, apply]

  # ───── SEARCH / RAG ─────
  - name: Nomic Embed Text v1.5
    provider: ollama
    model: nomic-embed-text:v1.5
    apiBase: http://192.168.20.31:11434
    roles: [embed]

  - name: BGE Reranker v2-m3 (Q8)
    provider: ollama
    model: hf.co/l-nmch/bge-reranker-v2-m3-Q8_0-GGUF:Q8_0
    apiBase: http://192.168.20.31:11434
    roles: [rerank]


# ── CONTEXT PROVIDERS (all the good stuff) ───────────────────────
context:
  - provider: code
  - provider: docs
  - provider: diff
  - provider: terminal
  - provider: problems
  - provider: folder
  - provider: codebase
    params:
      nRetrieve: 25
      nFinal: 8
      useReranking: true          # ← uses BGE reranker above

rules:
  - You are Local Agent, a senior developer assistant.
  - Explain reasoning and follow SOLID and design patterns when possible.
  - Respond with concise, high-quality suggestions.
  - For reasoning tasks, provide detailed step-by-step analysis.

prompts:
  - name: refactor
    description: Deep refactoring with SOLID principles
    prompt: >
      Refactor the following code to follow SOLID principles and design
      patterns.

      Explain your changes and reasoning:


      {{{ input }}}
  - name: reason
    description: Step-by-step code analysis
    prompt: >
      Analyze the following code step by step, checking for edge cases and logic
      issues.

      Provide detailed reasoning for each potential problem:


      {{{ input }}}
  - name: doc
    description: Generate comprehensive documentation
    prompt: >
      Write comprehensive documentation and inline comments for the following
      code.

      Include parameter descriptions, return values, and usage examples:


      {{{ input }}}
  - name: optimize
    description: Performance optimization
    prompt: |
      Analyze and optimize the following code for better performance.
      Explain each optimization and its impact:

      {{{ input }}}


# ── GLOBAL DEFAULTS (optional but recommended) ───────────────────
defaultModel: DeepSeek Coder V2 16B (Primary)
embeddingsProvider: ollama
rerankers:
  - provider: ollama
    model: hf.co/l-nmch/bge-reranker-v2-m3-Q8_0-GGUF:Q8_0